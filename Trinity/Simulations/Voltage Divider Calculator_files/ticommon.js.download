window._pxTranslation = {
    'en-US': [
        {
            "selector": ".px-captcha-header",
            "text":'Before we continue...'
        },
        {
            "selector": ".px-captcha-message",
            "text": "Verify you are a human (and not a bot)."
        },
        {
            "selector": "span.px-captcha-report",
            "text": "Having a problem?"
        },
        {
            "selector": "#px-form-title",
            "text":"Report a problem"
        },
        {
            "selector": "#px-form-subtitle",
            "text":"Experiencing issues with this page?"
        },
        {
        "selector": "#px-form-cancel",
        "text": "Close"
        },
        {
        "selector": "#px-reference-id",
        "text": ''
        },
        {
            "selector": "#px-form-item-ref-id",
            "text": "• Make sure you have the latest version of your web browser\n \
• Disable any ad blockers on your web browser\n \
• Enable cookies and JavaScript in your web browser\n \
If you're unable to proceed, open a new support request with the TI customer support center https://support.ti.com/csm/ and include the following.\n \
• Email address and the date on which the issue occurred\n \
• The webpage that you were attempting to load when you saw the Press and hold pop-up box\n \
• Reference ID"
        }
    ],
    'zh-CN': [
        {
            "selector": ".px-captcha-header",
            "text":'在继续之前...'
        },
        {
            "selector": ".px-captcha-message",
            "text": "请验证您是人类（而不是机器人）。"
        },
        {
            "selector": "span.px-captcha-report",
            "text": "出现问题？"
        },
        {
            "selector": "#px-form-title",
            "text":"报告问题"
        },
        {
            "selector": "#px-form-subtitle",
            "text":"此页面出现问题？"
        },
        {
        "selector": "#px-form-cancel",
        "text": "关闭"
        },
        {
        "selector": "#px-reference-id",
        "text": ''
        },
        {
            "selector": "#px-form-item-ref-id",
            "text": "• 请确保您使用浏览器的最新版本\n \
• 禁用网络浏览器上的所有广告拦截器\n \
• 在网络浏览器中启用 Cookie 和 JavaScript\n \
如果您无法继续，请通过 TI https://support.ti.com/csm/ 客户支持中心 提出新的支持申请，并提供以下信息:\n \
• 您的电子邮件地址和问题发生的日期\n \
• 在您看到“按住”弹出框时尝试加载的网页\n \
• 参考"
        }
    ],
    'ja-JP': [
        {
            "selector": ".px-captcha-header",
            "text":'続ける前に...'
        },
        {
            "selector": ".px-captcha-message",
            "text": "お客様が人間である (ロボットや自動化プログラムではない) ことを確認します。"
        },
        {
            "selector": "span.px-captcha-report",
            "text": "何か問題が生じている場合は、"
        },
        {
            "selector": "#px-form-title",
            "text":"問題についてお知らせください。"
        },
        {
            "selector": "#px-form-subtitle",
            "text":"このページで何か問題が発生していますか？"
        },
        {
        "selector": "#px-form-cancel",
        "text": "閉じる"
        },
        {
        "selector": "#px-reference-id",
        "text": ''
        },
        {
            "selector": "#px-form-item-ref-id",
            "text": "• お客様のブラウザが最新版かどうかをご確認ください\n \
• 使用している Web ブラウザで、すべての ad blocker (広告ブロック機能) を無効にします\n \
• 使用している Web ブラウザで Cookie と JavaScript を有効にします\n \
先に進むことができない場合、TI https://support.ti.com/csm/ カスタマー・サポート・センター で新しいサポート請求を作成し、以下の情報を入力してください。\n \
• お客様の Eメール・アドレスと、この問題が発生した日付\n \
• 「Press and hold」(長押し) ポップアップ・ボックスが表示されたときにロードしようとしていた Web ページ\n \
• Reference ID"
        }
    ],
    'de-DE': [
        {
            "selector": ".px-captcha-header",
            "text":'Bevor Sie fortfahren...'
        },
        {
            "selector": ".px-captcha-message",
            "text": "Verifizieren Sie, dass Sie ein Mensch (und kein Bot) sind."
        },
        {
            "selector": "span.px-captcha-report",
            "text": "Sie haben ein Problem?"
        },
        {
            "selector": "#px-form-title",
            "text":"Ein Problem berichten"
        },
        {
            "selector": "#px-form-subtitle",
            "text":"Haben Sie Probleme mit dieser Seite?"
        },
        {
        "selector": "#px-form-cancel",
        "text": "Schließen"
        },
        {
        "selector": "#px-reference-id",
        "text": ''
        },
        {
            "selector": "#px-form-item-ref-id",
            "text": "• Stellen Sie sicher, dass Sie die aktuelle Version des Browsers verwenden\n \
• Deaktivieren Sie alle Ad-Blocker in Ihrem Webbrowser\n \
• Aktivieren Sie Cookies und JavaScript in Ihrem Webbrowser\n \
Wenn Sie nicht weiterkommen, öffnen Sie unter Angabe der folgenden Informationen eine neue Support-Anfrage beim TI Kundensupportzentrum https://support.ti.com/csm/\n \
• Ihre E-Mail-Adresse und das Datum, an dem das Problem aufgetreten ist\n \
• Die Webseite, die Sie laden wollten, als Ihnen das Popup-Feld „Drücken und gedrückt halten“ angezeigt wurde\n \
• Reference ID"
        }
    ],
      'ko-KR': [
        {
            "selector": ".px-captcha-header",
            "text":'계속하기 전에...'
        },
        {
            "selector": ".px-captcha-message",
            "text": "로봇이 아님을 증명하세요"
        },
        {
            "selector": "span.px-captcha-report",
            "text": "문제가 있으십니까?"
        },
        {
            "selector": "#px-form-title",
            "text":"문제 보고하기"
        },
        {
            "selector": "#px-form-subtitle",
            "text":"이 페이지를 이용하는 데 문제가 있으십니까?"
        },
        {
        "selector": "#px-form-cancel",
        "text": "닫기"
        },
        {
        "selector": "#px-reference-id",
        "text": ''
        },
        {
            "selector": "#px-form-item-ref-id",
            "text": "• 내 브라우저가 최신 버전인지 확인합니다\n \
• 웹 브라우저에서 광고 차단 기능을 비활성화합니다\n \
• 웹 브라우저에서 쿠키와 JavaScript를 활성화합니다\n \
계속 진행할 수 없는 경우 TI 고객 지원 센터 https://support.ti.com/csm/ 에 새로운 지원 요청을 접수하고 다음 정보를 제출해 주십시오.\n \
• 본인 이메일 주소와 문제 발생 날짜\n \
• '길게 누르세요' 메시지 팝업 상자가 표시되었을 때 로드하려고 했던 웹 페이지\n \
• 참조"
        }
    ]
};
window['_PXDl82I3Ui'] = {
    challenge: {
        translation: {
            "en-US": {
                btn: 'Press and hold',
                failed: 'Try again'
            },
            "zh-CN": {
                btn: '按住',
                failed: '请重试'
            },
            "ja-JP": {
                btn: '長押ししてください',
                failed: 'もう一度試してください'
            },
            "de-DE": {
                btn: 'Drücken und gedrückt halten',
                failed: 'Versuchen Sie es erneut'
            },
            "ko-KR": {
                btn: '길게 누르세요',
                failed: '다시 시도하십시오'
            }
        },
        view: {
            // preset: <number>, // available options: 0 (classic button), 1 (new design)
            width: 280,
            height: 32,
            //padding: "1px 2px 3px 2px", //text inside button
            margin: "0px 0px 8px 0px",
            // parts: <number>, //e.g 300 (default - 150)
            // css: ["/assets/style/perimeterx.css"],
            // backgroundColor: <string>,//e.g "#FF0033"
            fillColor: '#cc0000',
            borderColor: '#cc0000',
            borderWidth: 1,
            borderRadius: 2,
            // buttonBorderWidthOnFocus: <number>,//e.g 10
            textColor: '#cc0000',
            texSize: 14,
            // textFont: <string>, // "Acme"
            // fontWeight: <number/string>, //example: 100, 'bold'
            // animation: <boolean>, //e.g. true
            // checkmarkThickness: <string>, //e.g. "4px"
            checkmarkHeight: "20px"
            // checkmarkWidth: <string>, //e.g. "8px"
            // targetColor: <string>, //e.g. "#FF00FF"
            // textTransform: <string> //e.g. "none"
        },
        context: {             logoImgSrc: "https://www.ti.com/etc/designs/ti/images/ui/ic-logo.svg", //note: You can have the logo OR headerText
            // headerText: <string>, // set in translation object "Before we continue..."
            headerColor: '#555555', //grey
            headerFontSize: '24px',
            // messageText = <string>; // set in translation object
            messageColor: '#555555', //grey
            messageFontSize: '16px',
            failed: { // custom options for the "Please try again" message
                fontSize: '14px',
                color: '#cc0000' //red
            }
        }
    }
};
if (document.cookie.indexOf('user_pref_language=') === -1) {
    var prefLang = 'en-US';
} else {
    var prefLang = document.cookie
        .split('; ')
        .find(row => row.startsWith('user_pref_language='))
        .split('=')[1]
        .replaceAll('"', '');
}
window._pxSelectedLocale = prefLang;
window._pxOnCaptchaSuccess = function (isValid) {     if (isValid === true) { window.location.reload(); }
};
window.PXDl82I3Ui_asyncInit = function (px) {
    px.Events.on('score', function (score) {
        try {
            if (typeof score == 'undefined') {
                score = 'none';
            }
            var dataObject = {
                event_category: 'px',
                event_action: 'pxsi',
                event_label: score,
                event_value: 1,
                event_non_interaction: 1,
                events: ['pxsi ' + score]
            }
            if (utag && utag.handler && utag.handler.iflag &&
                utag.handler.iflag === 1 &&
                utag_data.ga_view_status) {
                utag.link(dataObject);
            } else {
                window._metrics_events = window._metrics_events || [];
                window._metrics_events.push(dataObject);
            }
        } catch (err) {
            var dataObject = {
                event_category: 'px',
                event_action: 'pxsi',
                event_label: 'error: ' + err.message,
                event_value: 1,
                event_non_interaction: 1
            }
            if (utag && utag.handler && utag.handler.iflag && utag.handler.iflag === 1 && utag_data.ga_view_status) {
                utag.link(dataObject);
            } else {
                window._metrics_events = window._metrics_events || [];
                window._metrics_events.push(dataObject);
            }
        }
    });


    px.Events.on('captcha', function (stage) {
        try {
            if (typeof stage == 'undefined') {
                stage = 'stage none';
            }
            console.log("PX captcha: " + stage);
             if (stage === 'rendered') {
                var pxcss = document.createElement('link');
                pxcss.rel = 'stylesheet';
                pxcss.type = 'text/css';
                pxcss.href = '/assets/style/perimeterx.css?v=1.0';
                frames['px-captcha-modal'].contentDocument.head.appendChild(pxcss);
            }
            var dataObject = {
                event_category: 'px',
                event_action: 'pxc2i',
                event_label: stage,
                event_value: 1,
                event_non_interaction: 1,
                events: ['pxc2i ' + stage]
            }
            if (utag && utag.handler && utag.handler.iflag && utag.handler.iflag === 1 && utag_data.ga_view_status) {
                utag.link(dataObject);
            } else {
                window._metrics_events = window._metrics_events || [];
                window._metrics_events.push(dataObject);
            }
        } catch (err) {
            var dataObject = {
                event_category: 'px',
                event_action: 'pxc2i',
                event_label: 'error: ' + err.message,
                event_value: 1,
                event_non_interaction: 1
            }
            if (utag && utag.handler && utag.handler.iflag && utag.handler.iflag === 1 && utag_data.ga_view_status) {
                utag.link(dataObject);
            } else {
                window._metrics_events = window._metrics_events || [];
                window._metrics_events.push(dataObject);
            }
        }
    });

  //   const translations = window._pxTranslation[window._pxSelectedLocale];
  //   translations.forEach(translation => {
  //       const targetElement = document.querySelector(translation.selector);
  //       if (targetElement) {
  //           targetElement.innerHTML = ''; // Clear the existing content
  //           const translatedText = translation.text.replace('${window._pxUuid}', window._pxUuid);
  //           targetElement.insertAdjacentHTML('afterbegin', translatedText);
  //       }
  //   });

  // // Insert SVG into the element with ID 'px-uuid-copy'
  // const pxUuidCopyElement = document.getElementById('px-uuid-copy');
  // if (pxUuidCopyElement) {
  //     const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='15' height='16' viewBox='0 0 15 16' id='copy-icon'><g fill='none' fill-rule='evenodd'><g><g><path d='M0 0H14.354V14.354H0z' transform='translate(-121 -66) translate(121 67)'></path><path id='line' fill='#BDC1C7' fill-rule='nonzero' stroke='#BDC1C7' stroke-width='.4' d='M10.765 12.554c0 .179 0 .384-.003.615-.007.656-.579 1.185-1.282 1.185H3.076c-.708 0-1.282-.536-1.282-1.196V4.787c0-.66.571-1.194 1.277-1.196l.64-.003.002.599-.64.002c-.352 0-.638.268-.638.598v8.37c0 .331.287.599.64.599H9.48c.352 0 .638-.264.641-.592.002-.23.004-.433.004-.61h.64z' transform='translate(-121 -66) translate(121 67)'></path><path id='line' fill='#BDC1C7' fill-rule='nonzero' stroke='#BDC1C7' stroke-width='.4' d='M9.625.598H6.682c-.354 0-.64.267-.641.597l-.017 8.373c-.001.33.285.599.64.6h6.408c.354 0 .64-.268.64-.599V3.864L9.626.598zM9.862 0l4.492 3.588V9.57c0 .66-.574 1.196-1.282 1.196H6.665c-.71 0-1.284-.537-1.282-1.198L5.4 1.194C5.4.534 5.975 0 6.682 0h3.18z' transform='translate(-121 -66) translate(121 67)'></path><path id='line' fill='#BDC1C7' fill-rule='nonzero' stroke='#BDC1C7' stroke-linejoin='round' stroke-width='.4' d='M9.644 3.076L9.644 0.449 8.971 0 8.971 3.588 14.354 3.588 13.585 3.076z' transform='translate(-121 -66) translate(121 67)"></path><path id="line" fill="#BDC1C7" fill-rule="nonzero" stroke="#BDC1C7" stroke-width=".4" d="M10.765 12.554c0 .179 0 .384-.003.615-.007.656-.579 1.185-1.282 1.185H3.076c-.708 0-1.282-.536-1.282-1.196V4.787c0-.66.571-1.194 1.277-1.196l.64-.003.002.599-.64.002c-.352 0-.638.268-.638.598v8.37c0 .331.287.599.64.599H9.48c.352 0 .638-.264.641-.592.002-.23.004-.433.004-.61h.64z" transform="translate(-121 -66) translate(121 67)"></path><path id="line" fill="#BDC1C7" fill-rule="nonzero" stroke="#BDC1C7" stroke-width=".4" d="M9.625.598H6.682c-.354 0-.64.267-.641.597l-.017 8.373c-.001.33.285.599.64.6h6.408c.354 0 .64-.268.64-.599V3.864L9.626.598zM9.862 0l4.492 3.588V9.57c0 .66-.574 1.196-1.282 1.196H6.665c-.71 0-1.284-.537-1.282-1.198L5.4 1.194C5.4.534 5.975 0 6.682 0h3.18z" transform="translate(-121 -66) translate(121 67)"></path><path id="line" fill="#BDC1C7" fill-rule="nonzero" stroke="#BDC1C7" stroke-linejoin="round" stroke-width=".4" d="M9.644 3.076L9.644 0.449 8.971 0 8.971 3.588 14.354 3.588 13.585 3.076z" transform="translate(-121 -66) translate(121 67)"></path></g></g></g></svg>`;
  //     pxUuidCopyElement.insertAdjacentHTML('beforeend', svg);
  //   }

 };

function checkPXCookie(c) {
    try {
        if (document.cookie.indexOf(c) === -1) {
            return false;
        } else {
            return true;
        }
    } catch (err) {
        return false;
    }
}
function getPXCookie(c) {
    try {
        return decodeURIComponent(document.cookie
            .split('; ')
            .find(row => row.startsWith(c))
            .split(c + '=')[1]
            .replaceAll('"', ''));
    } catch (err) {
        return false;
    }
}
var pxc;
pxc = 'tiSessionID';
if (checkPXCookie(pxc)) {
    window._pxParam3 = getPXCookie(pxc);
}
pxc = 'ti_ai';
if (checkPXCookie(pxc)) {
    window._pxParam4 = getPXCookie(pxc);
}
pxc = 'ga_content_cookie';
if (checkPXCookie(pxc)) {
    window._pxParam5 = getPXCookie(pxc);
}
pxc = 'ti_geo';
if (checkPXCookie(pxc)) {
    window._pxParam6 = getPXCookie(pxc);
}
window._pxParam10 = 'sensor';
