(kicad_sch (version 20230121) (generator eeschema)

  (uuid 4a88724c-c54c-420c-823e-e5b2fafda75e)

  (paper "A4")

  (title_block
    (title "Low R sensing circuit")
    (date "2023-04-22")
    (rev "1.1")
    (comment 1 "https://github.com/martinroger/VXDash")
    (comment 2 "https://cadlab.io/projects/vxdash")
  )

  (lib_symbols
    (symbol "Device:R" (pin_numbers hide) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "R" (at 2.032 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "R" (at 0 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at -1.778 0 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "R res resistor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Resistor" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "R_*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_0_1"
        (rectangle (start -1.016 -2.54) (end 1.016 2.54)
          (stroke (width 0.254) (type default))
          (fill (type none))
        )
      )
      (symbol "R_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Diode:PMEG3010EH" (pin_numbers hide) (pin_names hide) (in_bom yes) (on_board yes)
      (property "Reference" "D" (at 0 2.54 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "PMEG3010EH" (at 0 -2.54 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "Diode_SMD:D_SOD-123F" (at 0 -4.445 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "https://assets.nexperia.com/documents/data-sheet/PMEG3010EH_EJ_ET.pdf" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "forward voltage diode" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "30V, 1A very low Vf MEGA Schottky barrier rectifier, SOD-123F" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "D*SOD?123F*" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "PMEG3010EH_0_1"
        (polyline
          (pts
            (xy 1.27 0)
            (xy -1.27 0)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.27 1.27)
            (xy 1.27 -1.27)
            (xy -1.27 0)
            (xy 1.27 1.27)
          )
          (stroke (width 0.2032) (type default))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -1.905 0.635)
            (xy -1.905 1.27)
            (xy -1.27 1.27)
            (xy -1.27 -1.27)
            (xy -0.635 -1.27)
            (xy -0.635 -0.635)
          )
          (stroke (width 0.2032) (type default))
          (fill (type none))
        )
      )
      (symbol "PMEG3010EH_1_1"
        (pin passive line (at -3.81 0 0) (length 2.54)
          (name "K" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 3.81 0 180) (length 2.54)
          (name "A" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GND" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GND" (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "global power" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GND\" , ground" (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GND_0_1"
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.27)
            (xy 1.27 -1.27)
            (xy 0 -2.54)
            (xy -1.27 -1.27)
            (xy 0 -1.27)
          )
          (stroke (width 0) (type default))
          (fill (type none))
        )
      )
      (symbol "GND_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GND" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 99.06 58.42) (diameter 0) (color 0 0 0 0)
    (uuid a68db2c8-d8a7-4dd9-8e1a-23bcdc7419a7)
  )

  (wire (pts (xy 99.06 44.45) (xy 99.06 49.53))
    (stroke (width 0) (type default))
    (uuid 078dd792-9b85-4351-9b35-4dcb323fdd5a)
  )
  (wire (pts (xy 99.06 74.93) (xy 99.06 78.74))
    (stroke (width 0) (type default))
    (uuid 139a68f5-0529-4a21-b414-bd840c815923)
  )
  (wire (pts (xy 99.06 58.42) (xy 91.44 58.42))
    (stroke (width 0) (type default))
    (uuid 3a32c010-5d17-44ef-9258-fae1e52cb985)
  )
  (wire (pts (xy 99.06 67.31) (xy 99.06 58.42))
    (stroke (width 0) (type default))
    (uuid d768ea48-3d57-49fc-8b54-040205373316)
  )
  (wire (pts (xy 99.06 58.42) (xy 162.56 58.42))
    (stroke (width 0) (type default))
    (uuid de8a6ddf-1648-4c46-be68-7bf9cf128535)
  )
  (wire (pts (xy 83.82 58.42) (xy 38.1 58.42))
    (stroke (width 0) (type default))
    (uuid e4ba138a-91b7-4580-9316-0db09e7e3bd2)
  )
  (wire (pts (xy 99.06 57.15) (xy 99.06 58.42))
    (stroke (width 0) (type default))
    (uuid ee2887a4-e44f-4d61-9965-5e8ac07491ef)
  )

  (text "0.55 forward voltage diode for Spikes and backfeeding protection including short to +12V\nClamping ?\n1K resistor in parallel -> increase for ECU sensor types ?\n220Ohm could be replaced by PPTC 30mA ?"
    (at 15.24 20.32 0)
    (effects (font (size 1.27 1.27)) (justify left bottom))
    (uuid 50f9c4e2-4a0e-4b90-a774-4beae3becd52)
  )

  (global_label "REG_3.3V+" (shape bidirectional) (at 99.06 44.45 90) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid f2454e2b-b4a5-4dab-92b4-853ba6c88b63)
    (property "Intersheetrefs" "${INTERSHEET_REFS}" (at 99.06 30.9045 90)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
  )

  (hierarchical_label "Analog_OUT" (shape output) (at 162.56 58.42 0) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 652b343d-ab9e-49d4-a307-25768611fe5e)
  )
  (hierarchical_label "Analog_IN" (shape input) (at 38.1 58.42 180) (fields_autoplaced)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid fb71ab4c-6a61-4d52-ac0f-fd08c5081fc2)
  )

  (symbol (lib_id "Diode:PMEG3010EH") (at 87.63 58.42 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 0391323d-747d-43dd-9fb4-57493cccb634)
    (property "Reference" "D3" (at 87.3125 53.34 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "PMEG3010EH" (at 87.3125 55.88 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Diode_SMD:D_SOD-123F" (at 87.63 62.865 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://assets.nexperia.com/documents/data-sheet/PMEG3010EH_EJ_ET.pdf" (at 87.63 58.42 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 1a4ed923-7b22-4acb-9e73-b6091492b28d))
    (pin "2" (uuid 06d3c68c-b67e-4c8e-b8c8-f2790376f402))
    (instances
      (project "VXDash"
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/6b0fd668-482b-4566-8844-722ffd44607a"
          (reference "D3") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/da93b6b7-e70f-4d1b-87b6-738291466515"
          (reference "D4") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/4010781d-44ad-4710-a22a-1441bb964b49"
          (reference "D5") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/5cbdc7e0-fc66-4c74-848d-ed1915f447f6"
          (reference "D6") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/30c765e9-a1bd-41b1-86c9-2f6fc8c60940"
          (reference "D7") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/98f3292a-53ed-4036-a2b9-f28c4f5074b1"
          (reference "D9") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:R") (at 99.06 53.34 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 1051a70c-0a7b-43bf-afd9-226883ab2b78)
    (property "Reference" "R48" (at 101.6 52.705 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "220R" (at 101.6 55.245 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0805_2012Metric" (at 97.282 53.34 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (at 99.06 53.34 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid d2fa2d94-fefd-464e-bfad-62e8222cca27))
    (pin "2" (uuid 81e51c9a-a966-451f-9bd2-06c88393f71d))
    (instances
      (project "VXDash"
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/6b0fd668-482b-4566-8844-722ffd44607a"
          (reference "R48") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/da93b6b7-e70f-4d1b-87b6-738291466515"
          (reference "R50") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/4010781d-44ad-4710-a22a-1441bb964b49"
          (reference "R52") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/5cbdc7e0-fc66-4c74-848d-ed1915f447f6"
          (reference "R54") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/30c765e9-a1bd-41b1-86c9-2f6fc8c60940"
          (reference "R56") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/98f3292a-53ed-4036-a2b9-f28c4f5074b1"
          (reference "R60") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "power:GND") (at 99.06 78.74 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 5ef5c7e8-1522-46b8-826f-b673ff0d0fd4)
    (property "Reference" "#PWR07" (at 99.06 85.09 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GND" (at 101.6 80.0099 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "" (at 99.06 78.74 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (at 99.06 78.74 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 38b48891-cfb4-4e81-a32d-47e79003a02c))
    (instances
      (project "DashSpy"
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe"
          (reference "#PWR07") (unit 1)
        )
      )
      (project "VXDash"
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef"
          (reference "#PWR09") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/6b0fd668-482b-4566-8844-722ffd44607a"
          (reference "#PWR058") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/da93b6b7-e70f-4d1b-87b6-738291466515"
          (reference "#PWR059") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/4010781d-44ad-4710-a22a-1441bb964b49"
          (reference "#PWR060") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/5cbdc7e0-fc66-4c74-848d-ed1915f447f6"
          (reference "#PWR061") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/30c765e9-a1bd-41b1-86c9-2f6fc8c60940"
          (reference "#PWR062") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/98f3292a-53ed-4036-a2b9-f28c4f5074b1"
          (reference "#PWR064") (unit 1)
        )
      )
    )
  )

  (symbol (lib_id "Device:R") (at 99.06 71.12 0) (unit 1)
    (in_bom yes) (on_board yes) (dnp no) (fields_autoplaced)
    (uuid 6b662be8-5bba-4211-9f45-6df546d6fc65)
    (property "Reference" "R10" (at 101.6 69.8499 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "1K" (at 101.6 72.3899 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0805_2012Metric" (at 97.282 71.12 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://www.seielect.com/Catalog/SEI-RMCF_RMCP.pdf" (at 99.06 71.12 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Manufacturer_Name" "Stackpole Electronics Inc" (at 99.06 71.12 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Manufacturer_Part_Number" "RMCF0805FT1K00" (at 99.06 71.12 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "RES 1K OHM 1% 1/8W 0805" (at 99.06 71.12 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 2c62be9a-a92e-48bc-a0b9-504e222046dd))
    (pin "2" (uuid 9c34f80f-1b88-4997-b590-4fc1ac945915))
    (instances
      (project "DashSpy"
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe"
          (reference "R10") (unit 1)
        )
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe/116843f0-372d-4250-9179-090f6934a137"
          (reference "R25") (unit 1)
        )
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe/c805b284-c930-4ff2-b202-76af8916ae10"
          (reference "R28") (unit 1)
        )
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe/17cb8376-19d8-458f-8929-b94e6171ad0c"
          (reference "R31") (unit 1)
        )
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe/b16c10c4-d29c-4a41-a2fe-cce1733ed5b5"
          (reference "R34") (unit 1)
        )
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe/4b908808-2e92-4d2b-9c3e-3c2646f56dee"
          (reference "R37") (unit 1)
        )
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe/489b9d5e-8ec9-44da-bb40-98a18f789025"
          (reference "R40") (unit 1)
        )
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe/17e3aac9-e1bf-459f-8e4c-73a6099a0ad9"
          (reference "R43") (unit 1)
        )
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe/506bede6-d3a9-4d0f-94ef-648dc15611e4"
          (reference "R46") (unit 1)
        )
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe/4fbfec0e-4eb6-42a5-b55b-abecddfcef3e"
          (reference "R49") (unit 1)
        )
        (path "/215a03d8-0cac-4df9-aae9-9174d39cedfe/f76a7987-4dae-4ce6-a1b6-de3285106c85"
          (reference "R52") (unit 1)
        )
      )
      (project "VXDash"
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/2079de5b-2f3f-4362-a932-421ac573d68a"
          (reference "R2") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/fd55f427-5875-408d-af6e-f5f38fa2377b"
          (reference "R4") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/6fba9a48-01d6-44fb-b292-5227e8d8ae6c"
          (reference "R11") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/754f234e-dea0-4267-8620-aae242941fbe"
          (reference "R13") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/9092231a-f98c-4042-8b24-a22dd8e09436"
          (reference "R15") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/96d539f7-d0da-4d4e-a53a-3adc943b5554"
          (reference "R17") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/7bdfe67b-e54c-45df-a8c5-722716866713"
          (reference "R19") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/efa532b4-1daf-4941-a104-12dfe5b97eef"
          (reference "R21") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/340c5d5c-a272-4ed2-9f95-90be2d1f330f"
          (reference "R23") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/6061d8d0-b456-4b55-8622-9fb1e7b6c054"
          (reference "R25") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/6b0fd668-482b-4566-8844-722ffd44607a"
          (reference "R49") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/da93b6b7-e70f-4d1b-87b6-738291466515"
          (reference "R51") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/4010781d-44ad-4710-a22a-1441bb964b49"
          (reference "R53") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/5cbdc7e0-fc66-4c74-848d-ed1915f447f6"
          (reference "R55") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/30c765e9-a1bd-41b1-86c9-2f6fc8c60940"
          (reference "R57") (unit 1)
        )
        (path "/f2858fc4-50de-4ff0-a01c-5b985ee14aef/98f3292a-53ed-4036-a2b9-f28c4f5074b1"
          (reference "R61") (unit 1)
        )
      )
    )
  )
)
